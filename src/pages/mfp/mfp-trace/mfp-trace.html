<!--
  Generated template for the MfpTrace page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Trace des actions</ion-title>
    <ion-buttons end>
      <button ion-button block [color]="(fnDispo) ? 'secondary' : 'danger'"><ion-icon name="planet"></ion-icon></button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-fab right bottom>
    <button ion-fab color="light"><ion-icon name="arrow-dropleft"></ion-icon></button>
    <ion-fab-list side="left">
      <button ion-fab (click)="detailActions=!detailActions" color="primary"><ion-icon name="eye"></ion-icon></button>
      <button ion-fab (click)="resetLog()" color="danger"><ion-icon name="trash"></ion-icon></button>
      <button ion-fab (click)="sendLog()" color="secondary"><ion-icon name="send"></ion-icon></button>
      <button ion-fab (click)="analyticLog()" color="secondary"><ion-icon name="analytics"></ion-icon></button>
      <button ion-fab (click)="scrollToTop()"><ion-icon color="danger" name="arrow-up"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>
  <ion-row wrap>
    <ion-col>
      <ion-card (tap)="tapEvent($event)">
        <ion-item>
          Tapped: {{tap}} times
        </ion-item>
      </ion-card>
      <ion-card (press)="pressEvent($event)">
        <ion-item>
          Pressed: {{press}} times
        </ion-item>
      </ion-card>
      <ion-card (pan)="panEvent($event)">
        <ion-item>
          Panned: {{pan}} times
        </ion-item>
      </ion-card>
      <ion-card (swipe)="swipeEvent($event)">
        <ion-item>
          Swiped: {{swipe}} times
        </ion-item>
      </ion-card>
    </ion-col>
    <ion-col>
      <ion-item>
        Log
        <button ion-button small item-right (click)="detailActions=!detailActions"><ion-icon name="eye"></ion-icon>&nbsp;DÃ©tail</button>
        <button ion-button small item-right color="danger" (click)="resetLog()"><ion-icon name="trash"></ion-icon>&nbsp;Effacer</button>
        <button ion-button small item-right color="secondary" (click)="sendLog()"><ion-icon name="send"></ion-icon>&nbsp;Envoyer</button>
      </ion-item>
      <ul>
        <li *ngFor="let it of logActions" class="smallItem" text-wrap>
          <span class="small smallItem">{{it.ts | date:"HH:mm:ss"}} - {{it.action}}</span>
          <ion-note *ngIf="detailActions" class="small">{{it.data | json}}</ion-note>
        </li>
      </ul>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="dataAnalytics">
    <record [dataRecord]='dataAnalytics' displaySelector=true></record>
  </ion-row>

</ion-content>